#include <stdio.h>
#include <iostream>

using namespace std;

int getRandomNumber(int min, int max) {
	// srand(time(NULL));

	int num = min + rand() % (max - min + 1);

	return num;
}

// Функция Шейкер-сортировки
void shekerSort(int *mass, int count)
{
  int left = 0, right = count - 1; // левая и правая границы сортируемой области массива
  int flag = 1;  // флаг наличия перемещений
  // Выполнение цикла пока левая граница не сомкнётся с правой
  // и пока в массиве имеются перемещения
  while ((left < right) && flag > 0)
  {
    flag = 0;
    for (int i = left; i<right; i++)  //двигаемся слева направо
    {
      if (mass[i]>mass[i + 1]) // если следующий элемент меньше текущего,
      {             // меняем их местами
        double t = mass[i];
        mass[i] = mass[i + 1];
        mass[i + 1] = t;
        flag = 1;      // перемещения в этом цикле были
      }
    }
    right--; // сдвигаем правую границу на предыдущий элемент
    for (int i = right; i>left; i--)  //двигаемся справа налево
    {
      if (mass[i - 1]>mass[i]) // если предыдущий элемент больше текущего,
      {            // меняем их местами
        double t = mass[i];
        mass[i] = mass[i - 1];
        mass[i - 1] = t;
        flag = 1;    // перемещения в этом цикле были
      }
    }
    left++; // сдвигаем левую границу на следующий элемент
  }
}

void printArray(int A[], int size)
{
	for (auto i = 0; i < size; i++)
		cout << A[i] << " ";
	cout<<endl;
}

int main() {
  unsigned const int size = 50;
	int arr[size];
    
	for (int i = 0; i < size; ++i) {
		unsigned int number = getRandomNumber(1, 100);
		arr[i] = number;
	}

	cout << "Given array is "<<endl;
	printArray(arr, size);

	shekerSort(arr, size);

	cout << "Sorted array is "<<endl;
	printArray(arr, size);
	return 0;
}


